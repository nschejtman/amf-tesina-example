@base          <file://src/main/resources/agents/agents.dialect.yaml> .
@prefix shacl: <http://www.w3.org/ns/shacl#> .
@prefix core:  <http://a.ml/vocabularies/core#> .
@prefix vocabulary: <http://agents.org/vocabulary#> .
@prefix dialect: <file://src/main/resources/agents/agents.dialect.yaml#/> .
@prefix rdf:   <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix owl:   <http://www.w3.org/2002/07/owl#> .
@prefix meta:  <http://a.ml/vocabularies/meta#> .
@prefix document: <http://a.ml/vocabularies/document#> .
@prefix xsd:   <http://www.w3.org/2001/XMLSchema#> .
@prefix rdfs:  <http://www.w3.org/2000/01/rdf-schema#> .

vocabulary:ssn  a         document:DomainElement , meta:Property , owl:DatatypeProperty ;
        rdfs:range        xsd:string ;
        core:description  "Number that identifies a physical person in various governamental agencies" ;
        core:displayName  "Social Security Number" .

<#/declarations/NamedNode/property/name>
        a               document:DomainElement , meta:NodePropertyMapping ;
        core:name       "name" ;
        shacl:datatype  xsd:string ;
        shacl:path      vocabulary:name .

<#/declarations/PersonNode/property/ssn>
        a               document:DomainElement , meta:NodePropertyMapping ;
        core:name       "ssn" ;
        shacl:datatype  xsd:string ;
        shacl:minCount  "1"^^xsd:long ;
        shacl:path      vocabulary:ssn .

<#/declarations/PersonNode>
        a                     document:DomainElement , shacl:Shape , meta:NodeMapping ;
        core:name             "PersonNode" ;
        meta:resolvedExtends  <#/declarations/NamedNode> ;
        shacl:property        <#/declarations/NamedNode/property/name> , <#/declarations/PersonNode/property/ssn> ;
        shacl:targetClass     vocabulary:Person .

<#/declarations/OrganizationNode>
        a                     document:DomainElement , shacl:Shape , meta:NodeMapping ;
        core:name             "OrganizationNode" ;
        meta:resolvedExtends  <#/declarations/NamedNode> ;
        shacl:property        <#/declarations/NamedNode/property/name> , <#/declarations/OrganizationNode/property/members> ;
        shacl:targetClass     vocabulary:Organization .

<#/declarations/OrganizationNode/property/members/list>
        a        rdfs:Seq ;
        rdfs:_1  <#/declarations/PersonNode> .

vocabulary:Agent  a       document:DomainElement , owl:Class ;
        core:description  "The most generic class representing any judiciary agent" ;
        core:displayName  "Agent" ;
        core:name         "Agent" .

vocabulary:name  a        document:DomainElement , meta:Property , owl:DatatypeProperty ;
        rdfs:range        xsd:string ;
        core:description  "The name given to any juduiciary agent" ;
        core:displayName  "Name" .

vocabulary:composedOf
        a                 document:DomainElement , meta:Property , owl:ObjectProperty ;
        rdfs:range        vocabulary:Agent ;
        core:description  "List of other judiciary agents composing another an organization judiciary agent" ;
        core:displayName  "Composed Of" .

<#/declarations/AgentListNode/property/agents/list>
        a        rdfs:Seq ;
        rdfs:_1  <#/declarations/OrganizationNode> ;
        rdfs:_2  <#/declarations/PersonNode> .

vocabulary:Person  a      document:DomainElement , owl:Class ;
        rdfs:subClassOf   vocabulary:Agent ;
        core:description  "A physical person judiciary agent class" ;
        core:displayName  "Person" ;
        core:name         "Person" .

<>      a                    meta:Dialect , document:Document , document:Module , document:Unit , document:Fragment ;
        core:name            "Agents" ;
        core:version         "1.0" ;
        document:declares    <#/declarations/PersonNode> , <#/declarations/OrganizationNode> , <#/declarations/AgentListNode> , <#/declarations/NamedNode> ;
        document:location    "file://src/main/resources/agents/agents.dialect.yaml" ;
        document:references  <agents.vocabulary.yaml> ;
        document:root        true ;
        document:version     "3.0.0" ;
        meta:documents       <agents.dialect.yaml/documents> .

<#/declarations/AgentListNode>
        a               document:DomainElement , shacl:Shape , meta:NodeMapping ;
        core:name       "AgentListNode" ;
        shacl:property  <#/declarations/AgentListNode/property/agents> .

<agents.vocabulary.yaml>
        a                  document:Unit , meta:Vocabulary , owl:Ontology ;
        core:name          "Agents" ;
        document:declares  vocabulary:members , vocabulary:Organization , vocabulary:composedOf , vocabulary:name , vocabulary:ssn , vocabulary:Agent , vocabulary:Person ;
        document:location  "file://src/main/resources/agents/agents.vocabulary.yaml" ;
        document:root      false ;
        document:version   "3.0.0" ;
        meta:base          "http://agents.org/vocabulary#" .

vocabulary:Organization
        a                 document:DomainElement , owl:Class ;
        rdfs:subClassOf   vocabulary:Agent ;
        core:description  "An organization (company, non-profit, etc.) judiciary agent class" ;
        core:displayName  "Organization" ;
        core:name         "Organization" .

<#/documents/root>  a     document:DomainElement , meta:DocumentMapping ;
        core:name         "Agents 1.0" ;
        meta:encodedNode  <#/declarations/AgentListNode> .

<#/declarations/OrganizationNode/property/members>
        a                   document:DomainElement , meta:NodePropertyMapping ;
        core:name           "members" ;
        meta:allowMultiple  true ;
        shacl:minCount      "1"^^xsd:long ;
        shacl:node          <#/declarations/OrganizationNode/property/members/list> ;
        shacl:path          vocabulary:members .

<#/declarations/AgentListNode/property/agents>
        a                   document:DomainElement , meta:NodePropertyMapping ;
        core:name           "agents" ;
        meta:allowMultiple  true ;
        shacl:node          <#/declarations/AgentListNode/property/agents/list> ;
        shacl:path          vocabulary:composedOf .

<#/documents/fragments/Organization>
        a                 document:DomainElement , meta:DocumentMapping ;
        core:name         "Organization" ;
        meta:encodedNode  <#/declarations/OrganizationNode> .

<#/documents/fragments/Person>
        a                 document:DomainElement , meta:DocumentMapping ;
        core:name         "Person" ;
        meta:encodedNode  <#/declarations/PersonNode> .

vocabulary:members  a       document:DomainElement , meta:Property , owl:ObjectProperty ;
        rdfs:range          vocabulary:Person ;
        rdfs:subPropertyOf  vocabulary:composedOf ;
        core:description    "The person members of an organization judiciary agent" ;
        core:displayName    "Members" .

<#/declarations/NamedNode>
        a               document:DomainElement , shacl:Shape , meta:NodeMapping ;
        core:name       "NamedNode" ;
        shacl:property  <#/declarations/NamedNode/property/name> .

<agents.dialect.yaml/documents>
        a                  document:DomainElement , meta:DocumentsModel ;
        meta:fragments     <#/documents/fragments/Person> , <#/documents/fragments/Organization> ;
        meta:rootDocument  <#/documents/root> .
